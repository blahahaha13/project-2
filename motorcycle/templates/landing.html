{% extends 'base.html' %}

{% block content %}
  <section class="home hero">
    <div id="slideshow"></div>
  </section>
<script>
  $(document).ready(function() {
    var slidesArr = [
      "../static/images/HERO14.jpg",
      "../static/images/HERO10.jpg",
      "../static/images/HERO18.jpg",
      "../static/images/HERO9.jpg",
    ];

    console.log(slidesArr)

    //Init slide 1
    slideTo(slidesArr[0]);

    var slideIndex = 0;
    var slideTime = animate();

    $('#slideshow').click(function() {
      //Reset the interval to 0 and start it again
      clearInterval(slideTime);
      slideTime = animate();


      var selectedIndex = $(this).index();
      var slide = slidesArr[selectedIndex];
      slideTo(slide);

    });

    function slideTo(slide) {
      $('#slideshow').css("background-image", `url(${slide})`)
    }

    function animate() {
      return setInterval(function() {
                var slide = slidesArr[slideIndex];
                slideTo(slide)
                slideIndex++;
                if (slideIndex == slidesArr.length) {
                  slideIndex = 0; 
                }
            }, 3000);
    }
  });
</script>
{% endblock %}
